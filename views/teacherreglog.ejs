<!DOCTYPE html>
<html>
<head>
<title>Register & Login Page</title>
<!--Custom Theme files-->
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>

</head>

<body>

<% if (session.teacherId) { %>

	<h1> You are already logged in as a teacher! </h1>
	<a href="/"> Landing Page </a>
	<a href=/teacherdashboard/<%= session.teacherId %>> Dashboard </a>

<% } else if (session.companyId) { %>

	<h1> You are already logged in as a company! </h1>
	<a href="/"> Landing Page </a>
	<a href=/companydashboard/<%= session.companyId %>> Dashboard </a>

<% } else { %>

	<% if (session.failedLogin) { %>

	<p style="color:red"> Email or Password were incorrect. Try Again </p>

	<% } %>

	<h1>Test Authentication ðŸš€ </h1>
	<!-- main -->
	<div class="main">
		<h3>Login</h3>
		
		<div class="login-form">
			<form action="/teacherreglog" method="post">
				<input type="text" name="logemail" placeholder="E-mail" required="">
				<input type="password" name="logpassword" placeholder="Password" required="">
				<div>
					<input type="submit" value="LOGIN NOW">
				</div>
			</form>
		</div>

		<h3>Register</h3>
		
		<div class="login-form">
			<form id="login" action="/teacherreglog" method="post" onsubmit="event.preventDefault(); validateMyForm();">
				<input type="text" name="first" placeholder="First Name" required="">
				<input type="text" name="last" placeholder="Last Name" required="">
				<input type="text" name="email" placeholder="E-mail" required="">
				<input type="text" name="username" placeholder="Username" required="">
				<input type="password" name="password" placeholder="Password" id="password" required="" >
				<input type="password" name="passwordConf" placeholder="Confirm Password" id="password_conf" required="">
				<div>
					<input type="submit" value="REGISTER & LOGIN">
				</div>
			</form>
		</div>
		<p><a href="#"> By clicking register, I agree to your terms</a></p>

	</div>

	<script type="text/javascript">
		var passWordField = document.getElementById('password')
		var passWordConfirmField = document.getElementById('password_conf')
		var form = document.getElementById('login')
		function validateMyForm(){
			if(passWordField.value != passWordConfirmField.value){ 
		    	alert("Passwords do not match. Please try again.");
		  	} else {
		  		form.submit()
		  	}
		}
	</script>	


<% } %>

</body>
</html>